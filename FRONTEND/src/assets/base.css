/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* stylelint-enable at-rule-no-unknown */

/* 1. تعريف الخط */
@font-face {
  font-family: 'ITF Qomra Arabic Light';
  src: url('./itfQomraArabic-Light.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* 2. القواعد الأساسية (Base Layer) */
@layer base {
  /* تعيين الخط والاتجاه الافتراضي */
  html {
    font-family: theme('fontFamily.primary');
  }

  body {
    @apply bg-page text-slate-800 antialiased;
    direction: rtl;
    text-align: right;
    line-height: 1.6;
  }

  /* تخصيص شريط التمرير (Scrollbar) */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    /* stylelint-disable-next-line at-rule-no-unknown */
    @apply bg-page rounded;
  }

  ::-webkit-scrollbar-thumb {
    /* stylelint-disable-next-line at-rule-no-unknown */
    @apply bg-gold rounded;
  }

  ::-webkit-scrollbar-thumb:hover {
    /* stylelint-disable-next-line at-rule-no-unknown */
    @apply bg-gold-dark;
  }
}

/* 3. إصلاحات الجوال (Mobile Compatibility Layer) */
/* هذه القواعد مأخوذة من base.css لضمان عمل العناصر بشكل جيد على الجوال */
@media (max-width: 768px) {
  @layer base {
    /* أجبار الحاويات على أخذ العرض الكامل */
    .container, .dashboard-container, .page-content {
      width: 100% !important;
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }

    /* تكبير مناطق اللمس للأزرار وحقول الإدخال */
    button, .btn, input, select, textarea {
      /* stylelint-disable-next-line at-rule-no-unknown */
      @apply w-full min-h-[50px] my-1 flex items-center justify-center text-center flex-wrap;
      height: auto !important;
      white-space: normal !important;
    }

    /* إصلاح مشاكل الجداول على الجوال */
    .table-section, .table-container {
      /* stylelint-disable-next-line at-rule-no-unknown */
      @apply w-full overflow-x-auto block;
      -webkit-overflow-scrolling: touch;
    }
    
    table {
      /* stylelint-disable-next-line at-rule-no-unknown */
      @apply min-w-[600px]; /* ضمان عدم انضغاط الجدول جداً */
    }

    /* إصلاح أيقونات البحث */
    .search-box {
      /* stylelint-disable-next-line at-rule-no-unknown */
      @apply relative w-full;
    }
  }
}

/* 4. كلاسات مساعدة مخصصة (Components Layer) */
@layer components {
  /* يمكنك إضافة كلاسات مكررة هنا لاحقاً */
  .btn-primary {
    /* stylelint-disable-next-line at-rule-no-unknown */
    @apply bg-primary text-white px-4 py-2 rounded hover:bg-primary-dark transition-colors;
  }
}